<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Huffman.PBTree</h1>

<div class="code">
<span class="comment">(*&nbsp;This&nbsp;program&nbsp;is&nbsp;free&nbsp;software;&nbsp;you&nbsp;can&nbsp;redistribute&nbsp;it&nbsp;and/or&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;modify&nbsp;it&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;GNU&nbsp;Lesser&nbsp;General&nbsp;Public&nbsp;License&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;as&nbsp;published&nbsp;by&nbsp;the&nbsp;Free&nbsp;Software&nbsp;Foundation;&nbsp;either&nbsp;version&nbsp;2.1&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;of&nbsp;the&nbsp;License,&nbsp;or&nbsp;(at&nbsp;your&nbsp;option)&nbsp;any&nbsp;later&nbsp;version.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;This&nbsp;program&nbsp;is&nbsp;distributed&nbsp;in&nbsp;the&nbsp;hope&nbsp;that&nbsp;it&nbsp;will&nbsp;be&nbsp;useful,&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;but&nbsp;WITHOUT&nbsp;ANY&nbsp;WARRANTY;&nbsp;without&nbsp;even&nbsp;the&nbsp;implied&nbsp;warranty&nbsp;of&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;MERCHANTABILITY&nbsp;or&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE.&nbsp;&nbsp;See&nbsp;the&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;GNU&nbsp;Lesser&nbsp;General&nbsp;Public&nbsp;License&nbsp;for&nbsp;more&nbsp;details.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;You&nbsp;should&nbsp;have&nbsp;received&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;GNU&nbsp;Lesser&nbsp;General&nbsp;Public&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;License&nbsp;along&nbsp;with&nbsp;this&nbsp;program;&nbsp;if&nbsp;not,&nbsp;write&nbsp;to&nbsp;the&nbsp;Free&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Software&nbsp;Foundation,&nbsp;Inc.,&nbsp;51&nbsp;Franklin&nbsp;St,&nbsp;Fifth&nbsp;Floor,&nbsp;Boston,&nbsp;MA&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;02110-1301&nbsp;USA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="comment">(**********************************************************************<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Proof&nbsp;of&nbsp;Huffman&nbsp;algorithm:&nbsp;PBTree.v&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Definition&nbsp;of&nbsp;partial&nbsp;binary&nbsp;trees&nbsp;(nodes&nbsp;have&nbsp;upto&nbsp;2&nbsp;sons)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Definitions:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pbtree,&nbsp;inpb,&nbsp;pbfree,&nbsp;compute_pbcode,&nbsp;pbadd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pbbuild,&nbsp;all_pbleaves,&nbsp;distinct_pbleaves,&nbsp;compute_pbcode&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Laurent.Thery@inria.fr&nbsp;(2003)&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;**********************************************************************)</span><br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Huffman</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Huffman.Aux.html#"><span class="id" title="library">Aux</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Huffman</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Huffman.Code.html#"><span class="id" title="library">Code</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Huffman</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Huffman.Build.html#"><span class="id" title="library">Build</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Huffman</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Huffman.ISort.html#"><span class="id" title="library">ISort</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Arith.Compare_dec.html#"><span class="id" title="library">Compare_dec</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Huffman</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Huffman.Permutation.html#"><span class="id" title="library">Permutation</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Huffman</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Huffman.UniqueKey.html#"><span class="id" title="library">UniqueKey</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Huffman</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Huffman.sTactic.html#"><span class="id" title="library">sTactic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="PBTree"><span class="id" title="section">PBTree</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="PBTree.A"><span class="id" title="variable">A</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <a name="PBTree.empty"><span class="id" title="variable">empty</span></a> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a name="PBTree.eqA_dec"><span class="id" title="variable">eqA_dec</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Partial&nbsp;Binary&nbsp;Tree&nbsp;(no&nbsp;more&nbsp;than&nbsp;2&nbsp;sons&nbsp;*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a name="pbtree"><span class="id" title="inductive">pbtree</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="pbleaf"><span class="id" title="constructor">pbleaf</span></a> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a><br/>
&nbsp;&nbsp;| <a name="pbleft"><span class="id" title="constructor">pbleft</span></a> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a><br/>
&nbsp;&nbsp;| <a name="pbright"><span class="id" title="constructor">pbright</span></a> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a><br/>
&nbsp;&nbsp;| <a name="pbnode"><span class="id" title="constructor">pbnode</span></a> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Predictate&nbsp;for&nbsp;belonging&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbleaf_or_not"><span class="id" title="lemma">pbleaf_or_not</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">a</span> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="Huffman.PBTree.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *;<br/>
&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Predicate&nbsp;for&nbsp;belonging&nbsp;*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a name="inpb"><span class="id" title="inductive">inpb</span></a> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="inpb_leaf"><span class="id" title="constructor">inpb_leaf</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a name="inpb_left"><span class="id" title="constructor">inpb_left</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>)<br/>
&nbsp;&nbsp;| <a name="inpb_right"><span class="id" title="constructor">inpb_right</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>)<br/>
&nbsp;&nbsp;| <a name="inpb_node_l"><span class="id" title="constructor">inpb_node_l</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
&nbsp;&nbsp;| <a name="inpb_node_r"><span class="id" title="constructor">inpb_node_r</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a>).<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Equality&nbsp;on&nbsp;partial&nbsp;trees&nbsp;is&nbsp;decidable&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="pbtree_dec"><span class="id" title="definition">pbtree_dec</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span>; <span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.PBTree.html#PBTree.eqA_dec"><span class="id" title="variable">eqA_dec</span></a> <span class="id" title="var">a0</span> <span class="id" title="var">a1</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="var">Contradict</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">p1</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">right</span>; <span class="id" title="var">Contradict</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">p1</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">right</span>; <span class="id" title="var">Contradict</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>;<br/>
&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">p1</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H0</span> <span class="id" title="var">p2</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">right</span>; <span class="id" title="var">Contradict</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">injection</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">right</span>; <span class="id" title="var">Contradict</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">injection</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Belonging&nbsp;is&nbsp;decidable&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="inpb_dec"><span class="id" title="definition">inpb_dec</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Specif.html#87727981cdc1579fef00b9d9c1d3b9da"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">b</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>;<br/>
&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">fail</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span>; <span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.PBTree.html#PBTree.eqA_dec"><span class="id" title="variable">eqA_dec</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a0</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">right</span>; <span class="id" title="var">Contradict</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.PBTree.html#pbtree_dec"><span class="id" title="definition">pbtree_dec</span></a> <span class="id" title="var">a</span> (<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <span class="id" title="var">p</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">HH</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">Hp</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.PBTree.html#pbtree_dec"><span class="id" title="definition">pbtree_dec</span></a> <span class="id" title="var">a</span> (<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <span class="id" title="var">p</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">HH</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.PBTree.html#pbtree_dec"><span class="id" title="definition">pbtree_dec</span></a> <span class="id" title="var">a</span> (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p0</span>)); <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">right</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="comment">(*&nbsp;inpb&nbsp;is&nbsp;transitive&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpb_trans"><span class="id" title="lemma">inpb_trans</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Huffman.PBTree.html#t3"><span class="id" title="variable">t3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#t3"><span class="id" title="variable">t3</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">t1</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;partial&nbsp;tree&nbsp;has&nbsp;always&nbsp;a&nbsp;leaf&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpb_ex"><span class="id" title="lemma">inpb_ex</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x</span> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> (<span class="id" title="var">a</span>, <span class="id" title="var">H</span>); <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> (<span class="id" title="var">a</span>, <span class="id" title="var">H</span>); <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> (<span class="id" title="var">a</span>, <span class="id" title="var">H</span>) <span class="id" title="var">b0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Predicate&nbsp;for&nbsp;Partial&nbsp;Trees&nbsp;with&nbsp;Different&nbsp;Leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t0</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t0"><span class="id" title="variable">t0</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t0"><span class="id" title="variable">t0</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;leaf&nbsp;tree&nbsp;has&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_Leaf"><span class="id" title="lemma">distinct_pbleaves_Leaf</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">distinct_pbleaves_Leaf</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Direct&nbsp;subtrees&nbsp;of&nbsp;a&nbsp;tree&nbsp;with&nbsp;distinct&nbsp;leaves&nbsp;have&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_l"><span class="id" title="lemma">distinct_pbleaves_l</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Direct&nbsp;subtrees&nbsp;of&nbsp;a&nbsp;tree&nbsp;with&nbsp;distinct&nbsp;leaves&nbsp;have&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_r"><span class="id" title="lemma">distinct_pbleaves_r</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t2"><span class="id" title="variable">t2</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Direct&nbsp;subtrees&nbsp;of&nbsp;a&nbsp;tree&nbsp;with&nbsp;distinct&nbsp;leaves&nbsp;have&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_pl"><span class="id" title="lemma">distinct_pbleaves_pl</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t1</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Direct&nbsp;subtrees&nbsp;of&nbsp;a&nbsp;tree&nbsp;with&nbsp;distinct&nbsp;leaves&nbsp;have&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_pr"><span class="id" title="lemma">distinct_pbleaves_pr</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t1</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">t0</span> <span class="id" title="var">t3</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;leaf&nbsp;have&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_pbleaf"><span class="id" title="lemma">distinct_pbleaves_pbleaf</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">distinct_pbleaves_pbleaf</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;left&nbsp;has&nbsp;distinct&nbsp;leaves&nbsp;if&nbsp;its&nbsp;subtree&nbsp;has&nbsp;it&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_pbleft"><span class="id" title="lemma">distinct_pbleaves_pbleft</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;A&nbsp;right&nbsp;has&nbsp;distinct&nbsp;leaves&nbsp;if&nbsp;its&nbsp;subtree&nbsp;has&nbsp;it&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_pbright"><span class="id" title="lemma">distinct_pbleaves_pbright</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">distinct_pbleaves_pbleft</span> <span class="id" title="var">distinct_pbleaves_pbright</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Transform&nbsp;a&nbsp;tree&nbsp;in&nbsp;a&nbsp;code&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) : <a class="idref" href="Huffman.Code.html#code"><span class="id" title="definition">code</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <span class="id" title="var">b</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <span class="id" title="var">l1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <span class="id" title="var">l1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">l1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">l2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Computed&nbsp;code&nbsp;are&nbsp;not&nbsp;empty&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="compute_pbcode_not_null"><span class="id" title="lemma">compute_pbcode_not_null</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span>, <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span> <span class="id" title="var">p0</span>; <span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p0</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>); <br/>
&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">compute_pbcode_not_null</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Keys&nbsp;in&nbsp;the&nbsp;computed&nbsp;code&nbsp;are&nbsp;leaves&nbsp;of&nbsp;the&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="in_pbcompute_inpb"><span class="id" title="lemma">in_pbcompute_inpb</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> <span class="id" title="var">l</span> [<span class="id" title="var">H1</span>| <span class="id" title="var">H1</span>]; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">case</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">fail</span>).<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#inpb_left"><span class="id" title="constructor">inpb_left</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) (<span class="id" title="var">Ha1</span>, <span class="id" title="var">Hl1</span>); <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#inpb_right"><span class="id" title="constructor">inpb_right</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) (<span class="id" title="var">Ha1</span>, <span class="id" title="var">Hl1</span>); <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">H</span> <span class="id" title="var">h0</span> <span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) (<span class="id" title="var">Ha1</span>, <span class="id" title="var">Hl1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#inpb_node_l"><span class="id" title="constructor">inpb_node_l</span></a>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span>).<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hl2</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) (<span class="id" title="var">Ha1</span>, <span class="id" title="var">Hl1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#inpb_node_r"><span class="id" title="constructor">inpb_node_r</span></a>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span>).<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hl2</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Leaves&nbsp;in&nbsp;the&nbsp;tree&nbsp;are&nbsp;keys&nbsp;in&nbsp;the&nbsp;code&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpb_compute_ex"><span class="id" title="lemma">inpb_compute_ex</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">l</span> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#p"><span class="id" title="variable">p</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p0</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">elim</span> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p0</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">l</span> <span class="id" title="var">H1</span> [<span class="id" title="var">H2</span>| <span class="id" title="var">H2</span>]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">x1</span>); <span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p0</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">elim</span> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p0</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">l</span> <span class="id" title="var">H1</span> [<span class="id" title="var">H2</span>| <span class="id" title="var">H2</span>]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">x1</span>); <span class="id" title="tactic">left</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p0</span> <span class="id" title="var">H</span> <span class="id" title="var">p1</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">change</span><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p0</span>))) <span class="id" title="tactic">in</span> |- *; <br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">in_map</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">exists</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">x</span>).<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">change</span><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> ((<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p1</span>))) <span class="id" title="tactic">in</span> |- *; <br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_map"><span class="id" title="lemma">in_map</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;computing&nbsp;code&nbsp;has&nbsp;the&nbsp;first&nbsp;property&nbsp;to&nbsp;be&nbsp;prefix&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pb_unique_prefix1"><span class="id" title="lemma">pb_unique_prefix1</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) (<span class="id" title="var">a1</span> <span class="id" title="var">a2</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">lb1</span> <span class="id" title="var">lb2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#lb1"><span class="id" title="variable">lb1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#lb2"><span class="id" title="variable">lb2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#lb1"><span class="id" title="variable">lb1</span></a> <a class="idref" href="Huffman.PBTree.html#lb2"><span class="id" title="variable">lb2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#b8b2ebc8e1a8b9aa935c0702efb5dccf"><span class="id" title="notation">:&gt;</span></a><a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">leaf</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">lb1</span> <span class="id" title="var">lb2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>; [ <span class="id" title="tactic">injection</span> <span class="id" title="var">H3</span> | <span class="id" title="tactic">case</span> <span class="id" title="var">H3</span> ].<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span>; [ <span class="id" title="tactic">injection</span> <span class="id" title="var">H4</span> | <span class="id" title="tactic">case</span> <span class="id" title="var">H4</span> ].<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#trans_equal"><span class="id" title="abbreviation">trans_equal</span></a> <span class="id" title="keyword">with</span> (2 := <span class="id" title="var">H0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">lb1</span> <span class="id" title="var">lb2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a3</span>, <span class="id" title="var">l3</span>) (<span class="id" title="var">Ha3</span>, <span class="id" title="var">Hl3</span>).<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a4</span>, <span class="id" title="var">l4</span>) (<span class="id" title="var">Ha4</span>, <span class="id" title="var">Hl4</span>).<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l3</span> <span class="id" title="var">l4</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl4</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">cut</span> (<a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l3</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l4</span>));<br/>
&nbsp;[ <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">idtac</span> ].<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">injection</span> <span class="id" title="var">Hl4</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span> <span class="id" title="var">HH3</span> <span class="id" title="var">HH4</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HH3</span>;<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HH1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">lb1</span> <span class="id" title="var">lb2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a3</span>, <span class="id" title="var">l3</span>) (<span class="id" title="var">Ha3</span>, <span class="id" title="var">Hl3</span>).<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a4</span>, <span class="id" title="var">l4</span>) (<span class="id" title="var">Ha4</span>, <span class="id" title="var">Hl4</span>).<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l3</span> <span class="id" title="var">l4</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl4</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">cut</span> (<a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l3</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l4</span>));<br/>
&nbsp;[ <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH1</span>; <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">idtac</span> ].<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">injection</span> <span class="id" title="var">Hl4</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span> <span class="id" title="var">HH3</span> <span class="id" title="var">HH4</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HH3</span>;<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HH1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">Rec1</span> <span class="id" title="var">t2</span> <span class="id" title="var">Rec2</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">lb1</span> <span class="id" title="var">lb2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>); <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>;<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span> <span class="id" title="var">H1</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">generalize</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> (<span class="id" title="var">H5</span>, <span class="id" title="var">H6</span>); <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Rec1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">lb1</span> := <span class="id" title="var">l1</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l2</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H5</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> (<span class="id" title="var">H7</span>, <span class="id" title="var">H8</span>); <span class="id" title="tactic">injection</span> <span class="id" title="var">H8</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H6</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> (<span class="id" title="var">H7</span>, <span class="id" title="var">H8</span>); <span class="id" title="tactic">injection</span> <span class="id" title="var">H8</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">generalize</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">aa1</span> <span class="id" title="var">ll1</span> (<span class="id" title="var">H4</span>, <span class="id" title="var">H5</span>).<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">aa2</span> <span class="id" title="var">ll2</span> (<span class="id" title="var">H6</span>, <span class="id" title="var">H7</span>).<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">tH8</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">tH8</span>.<br/>
<span class="id" title="tactic">generalize</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">aa1</span> <span class="id" title="var">ll1</span> (<span class="id" title="var">H4</span>, <span class="id" title="var">H5</span>).<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">aa2</span> <span class="id" title="var">ll2</span> (<span class="id" title="var">H6</span>, <span class="id" title="var">H7</span>).<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">tH8</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">tH8</span>.<br/>
<span class="id" title="tactic">generalize</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span> (<span class="id" title="var">H5</span>, <span class="id" title="var">H6</span>); <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Rec2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">lb1</span> := <span class="id" title="var">l1</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l2</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H5</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> (<span class="id" title="var">H7</span>, <span class="id" title="var">H8</span>); <span class="id" title="tactic">injection</span> <span class="id" title="var">H8</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H6</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">x</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> (<span class="id" title="var">H7</span>, <span class="id" title="var">H8</span>); <span class="id" title="tactic">injection</span> <span class="id" title="var">H8</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">R3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;computed&nbsp;code&nbsp;has&nbsp;unique&nbsp;keys&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pb_unique_key"><span class="id" title="lemma">pb_unique_key</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.UniqueKey.html#unique_key"><span class="id" title="inductive">unique_key</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UniqueKey.html#unique_key_map"><span class="id" title="lemma">unique_key_map</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pl"><span class="id" title="lemma">distinct_pbleaves_pl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">b1</span>) (<span class="id" title="var">a2</span>, <span class="id" title="var">b2</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UniqueKey.html#unique_key_map"><span class="id" title="lemma">unique_key_map</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pr"><span class="id" title="lemma">distinct_pbleaves_pr</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">b1</span>) (<span class="id" title="var">a2</span>, <span class="id" title="var">b2</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UniqueKey.html#unique_key_app"><span class="id" title="lemma">unique_key_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UniqueKey.html#unique_key_map"><span class="id" title="lemma">unique_key_map</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_l"><span class="id" title="lemma">distinct_pbleaves_l</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">b1</span>) (<span class="id" title="var">a2</span>, <span class="id" title="var">b2</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UniqueKey.html#unique_key_map"><span class="id" title="lemma">unique_key_map</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_r"><span class="id" title="lemma">distinct_pbleaves_r</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">b1</span>) (<span class="id" title="var">a2</span>, <span class="id" title="var">b2</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b1</span> <span class="id" title="var">c</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
<span class="id" title="tactic">case</span> <a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H2</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">case</span> <a class="idref" href="Huffman.Aux.html#in_map_inv"><span class="id" title="lemma">in_map_inv</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H3</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) (<span class="id" title="var">Ha1</span>, <span class="id" title="var">Hl1</span>) (<span class="id" title="var">a2</span>, <span class="id" title="var">l2</span>) (<span class="id" title="var">Ha2</span>, <span class="id" title="var">Hl2</span>).<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">H1</span> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">p</span> <span class="id" title="var">p0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl2</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#in_pbcompute_inpb"><span class="id" title="lemma">in_pbcompute_inpb</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">Ha2</span>).<br/>
<span class="id" title="tactic">injection</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH1</span> <span class="id" title="var">HH2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH2</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#in_pbcompute_inpb"><span class="id" title="lemma">in_pbcompute_inpb</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">Ha1</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;computed&nbsp;code&nbsp;is&nbsp;prefix&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pb_unique_prefix"><span class="id" title="lemma">pb_unique_prefix</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.Code.html#unique_prefix"><span class="id" title="definition">unique_prefix</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> (<a class="idref" href="Huffman.PBTree.html#pb_unique_prefix1"><span class="id" title="lemma">pb_unique_prefix1</span></a> <span class="id" title="var">t</span>); <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pb_unique_key"><span class="id" title="lemma">pb_unique_key</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<br/>
&nbsp;&nbsp;Predicate&nbsp;that&nbsp;checks&nbsp;if&nbsp;a&nbsp;position&nbsp;(a&nbsp;list&nbsp;of&nbsp;bool)&nbsp;can<br/>
&nbsp;&nbsp;be&nbsp;safely&nbsp;added&nbsp;(adding&nbsp;an&nbsp;element&nbsp;is&nbsp;done&nbsp;without&nbsp;any&nbsp;removing)<br/>
*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a name="pbfree"><span class="id" title="inductive">pbfree</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="pbfree_left1"><span class="id" title="constructor">pbfree_left1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>, <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;| <a name="pbfree_left2"><span class="id" title="constructor">pbfree_left2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>, <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;| <a name="pbfree_right1"><span class="id" title="constructor">pbfree_right1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>, <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;| <a name="pbfree_right2"><span class="id" title="constructor">pbfree_right2</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>, <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;| <a name="pbfree_node1"><span class="id" title="constructor">pbfree_node1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">l</span>, <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;| <a name="pbfree_node2"><span class="id" title="constructor">pbfree_node2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">l</span>, <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Add&nbsp;an&nbsp;element&nbsp;in&nbsp;a&nbsp;tree&nbsp;at&nbsp;a&nbsp;given&nbsp;position&nbsp;(list&nbsp;of&nbsp;bool)&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="pbadd"><span class="id" title="definition">pbadd</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">l</span>} : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> =&gt; <a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">l1</span>) <span class="id" title="var">t2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <span class="id" title="var">t1</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <span class="id" title="var">t2</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>) <span class="id" title="var">l1</span>) <span class="id" title="var">t2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>) <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">t1</span> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <span class="id" title="var">t2</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="var">t2</span> <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <span class="id" title="var">t1</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">t1</span> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>) <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>) <span class="id" title="var">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;to&nbsp;&nbsp;a&nbsp;leaf&nbsp;replace&nbsp;it&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbadd_prop1"><span class="id" title="lemma">pbadd_prop1</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l1</span>, <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a>) <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l1</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;at&nbsp;a&nbsp;free&nbsp;position&nbsp;add&nbsp;to&nbsp;the&nbsp;code&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbadd_prop2"><span class="id" title="lemma">pbadd_prop2</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation"><span class="id" title="inductive">permutation</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *;<br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> <span class="id" title="var">a1</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#pbadd_prop1"><span class="id" title="lemma">pbadd_prop1</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">b</span>)); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">a1</span>.<br/>
<span class="id" title="tactic">apply</span><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">b</span>)); <br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> <span class="id" title="var">a1</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#pbadd_prop1"><span class="id" title="lemma">pbadd_prop1</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">a1</span>.<br/>
<span class="id" title="tactic">apply</span><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">b</span>)); <br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">a1</span>.<br/>
<span class="id" title="tactic">apply</span><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">c</span>)); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">a1</span>.<br/>
<span class="id" title="tactic">apply</span><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">c</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">b</span>)); <br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">c</span>)); <span class="id" title="tactic">auto</span>; <br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;free&nbsp;positions&nbsp;have&nbsp;not&nbsp;changed&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbfree_pbadd_prop1"><span class="id" title="lemma">pbfree_pbadd_prop1</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">l</span> <span class="id" title="var">l1</span>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>) <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">l</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a1</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">a1</span> <span class="id" title="var">l</span> <span class="id" title="var">l1</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_right2"><span class="id" title="constructor">pbfree_right2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_left2"><span class="id" title="constructor">pbfree_left2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;free&nbsp;positions&nbsp;now&nbsp;include&nbsp;the&nbsp;ones&nbsp;of&nbsp;the&nbsp;added&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbfree_pbadd_prop2"><span class="id" title="lemma">pbfree_pbadd_prop2</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="var">l3</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Huffman.PBTree.html#l3"><span class="id" title="variable">l3</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Huffman.PBTree.html#l3"><span class="id" title="variable">l3</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">l0</span> <span class="id" title="var">l3</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a0</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l3</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l3</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_right2"><span class="id" title="constructor">pbfree_right2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop1"><span class="id" title="lemma">pbfree_pbadd_prop1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node2"><span class="id" title="constructor">pbfree_node2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop1"><span class="id" title="lemma">pbfree_pbadd_prop1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_right2"><span class="id" title="constructor">pbfree_right2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node2"><span class="id" title="constructor">pbfree_node2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l3</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node1"><span class="id" title="constructor">pbfree_node1</span></a>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node1"><span class="id" title="constructor">pbfree_node1</span></a>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l3</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l3</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node2"><span class="id" title="constructor">pbfree_node2</span></a>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node2"><span class="id" title="constructor">pbfree_node2</span></a>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l3</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_left2"><span class="id" title="constructor">pbfree_left2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop1"><span class="id" title="lemma">pbfree_pbadd_prop1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_left2"><span class="id" title="constructor">pbfree_left2</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node1"><span class="id" title="constructor">pbfree_node1</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop1"><span class="id" title="lemma">pbfree_pbadd_prop1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_node1"><span class="id" title="constructor">pbfree_node1</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;free&nbsp;positions&nbsp;have&nbsp;not&nbsp;changed&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_pbadd_prop1"><span class="id" title="lemma">distinct_pbleaves_pbadd_prop1</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a</span> <span class="id" title="var">a1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">a</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a2</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a2</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;in&nbsp;leaf&nbsp;does&nbsp;not&nbsp;create&nbsp;nodes&nbsp;&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="in_pbleaf_node"><span class="id" title="lemma">in_pbleaf_node</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span> <span class="id" title="var">l</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a3"><span class="id" title="variable">a3</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a4"><span class="id" title="variable">a4</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>).<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>).<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;in&nbsp;leaf&nbsp;just&nbsp;replace&nbsp;the&nbsp;leaf&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpbleaf_eq"><span class="id" title="lemma">inpbleaf_eq</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">l</span>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a3"><span class="id" title="variable">a3</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>).<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>).<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;a&nbsp;leaf&nbsp;we&nbsp;just&nbsp;effectivement&nbsp;add&nbsp;a&nbsp;leaf&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpbleaf_pbadd_inv"><span class="id" title="lemma">inpbleaf_pbadd_inv</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">l</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="Huffman.PBTree.html#a3"><span class="id" title="variable">a3</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a>) <a class="idref" href="Huffman.PBTree.html#a3"><span class="id" title="variable">a3</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="Huffman.PBTree.html#inpbleaf_eq"><span class="id" title="lemma">inpbleaf_eq</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="Huffman.PBTree.html#inpbleaf_eq"><span class="id" title="lemma">inpbleaf_eq</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">p</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">p0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="Huffman.PBTree.html#inpbleaf_eq"><span class="id" title="lemma">inpbleaf_eq</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">p</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="Huffman.PBTree.html#inpbleaf_eq"><span class="id" title="lemma">inpbleaf_eq</span></a> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a> <span class="id" title="var">l</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">p</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;creates&nbsp;a&nbsp;new&nbsp;leaf&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpb_pbadd"><span class="id" title="lemma">inpb_pbadd</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">t1</span>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">t1</span>; (<span class="id" title="tactic">case</span> <span class="id" title="var">t1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">t1</span>; (<span class="id" title="tactic">case</span> <span class="id" title="var">t1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">inpb_pbadd</span> : <span class="id" title="var">core</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<br/>
&nbsp;&nbsp;Subtrees&nbsp;in&nbsp;an&nbsp;added&nbsp;tree&nbsp;either&nbsp;contains&nbsp;the&nbsp;added&nbsp;leaf&nbsp;or<br/>
&nbsp;&nbsp;was&nbsp;a&nbsp;subtree&nbsp;of&nbsp;the&nbsp;initial&nbsp;tree<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpb_pbadd_ex"><span class="id" title="lemma">inpb_pbadd_ex</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">t1</span> <span class="id" title="var">t</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a>) <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Huffman.PBTree.html#t1"><span class="id" title="variable">t1</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t1</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">t1</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">t1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">generalize</span> <span class="id" title="var">H3</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">p0</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">left</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l0</span> <span class="id" title="var">H5</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Compute&nbsp;all&nbsp;the&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Fixpoint</span> <a name="all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <span class="id" title="var">t1</span> =&gt; <a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <span class="id" title="var">t1</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <span class="id" title="var">t1</span> =&gt; <a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <span class="id" title="var">t1</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> =&gt; <a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <span class="id" title="var">t1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <span class="id" title="var">t2</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="comment">(*&nbsp;a&nbsp;leaf&nbsp;is&nbsp;in&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_in"><span class="id" title="lemma">all_pbleaves_in</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span>, <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span> <span class="id" title="var">b0</span> <span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;An&nbsp;element&nbsp;of&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;leaves&nbsp;is&nbsp;a&nbsp;leaf&nbsp;of&nbsp;the&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_inpb"><span class="id" title="lemma">all_pbleaves_inpb</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">a0</span> [<span class="id" title="var">H</span>| <span class="id" title="var">H</span>]; [ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">case</span> <span class="id" title="var">H</span> ]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span> <span class="id" title="var">b0</span> <span class="id" title="var">H0</span> <span class="id" title="var">a</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;If&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;leaves&nbsp;is&nbsp;unique,&nbsp;the&nbsp;tree&nbsp;has&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_unique"><span class="id" title="lemma">all_pbleaves_unique</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Huffman.UList.html#ulist"><span class="id" title="inductive">ulist</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span> <span class="id" title="var">b0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t0</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">case</span> (<a class="idref" href="Huffman.PBTree.html#inpb_ex"><span class="id" title="lemma">inpb_ex</span></a> <span class="id" title="var">t0</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">HH</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv"><span class="id" title="lemma">ulist_app_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>) (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_in"><span class="id" title="lemma">all_pbleaves_in</span></a>;<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#inpb_trans"><span class="id" title="lemma">inpb_trans</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">HH</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv_l"><span class="id" title="lemma">ulist_app_inv_l</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv_r"><span class="id" title="lemma">ulist_app_inv_r</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;If&nbsp;the&nbsp;tree&nbsp;has&nbsp;distinct&nbsp;leaves,&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;leaves&nbsp;is&nbsp;unique&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_ulist"><span class="id" title="lemma">all_pbleaves_ulist</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.UList.html#ulist"><span class="id" title="inductive">ulist</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pl"><span class="id" title="lemma">distinct_pbleaves_pl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pr"><span class="id" title="lemma">distinct_pbleaves_pr</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span> <span class="id" title="var">b0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app"><span class="id" title="lemma">ulist_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_l"><span class="id" title="lemma">distinct_pbleaves_l</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_r"><span class="id" title="lemma">distinct_pbleaves_r</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">case</span> (<span class="id" title="var">H1</span> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">b</span> <span class="id" title="var">b0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_inpb"><span class="id" title="lemma">all_pbleaves_inpb</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H2</span>).<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_inpb"><span class="id" title="lemma">all_pbleaves_inpb</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H3</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;a&nbsp;leaf&nbsp;change&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_pbadd"><span class="id" title="lemma">all_pbleaves_pbadd</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">l1</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l</span>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l</span> [<span class="id" title="var">H</span>| <span class="id" title="var">H</span>]; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H0</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">datatypes</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">case</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H0</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">datatypes</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;in&nbsp;a&nbsp;leaf&nbsp;just&nbsp;creates&nbsp;a&nbsp;singleton&nbsp;list&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_pbleaf"><span class="id" title="lemma">all_pbleaves_pbleaf</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">l</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span>, <a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a2"><span class="id" title="variable">a2</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;a&nbsp;new&nbsp;leaf&nbsp;preserves&nbsp;the&nbsp;uniqueness&nbsp;of&nbsp;the&nbsp;list&nbsp;of&nbsp;all&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="ulist_pbadd_prop2"><span class="id" title="lemma">ulist_pbadd_prop2</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">t</span>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a>) <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.UList.html#ulist"><span class="id" title="inductive">ulist</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.UList.html#ulist"><span class="id" title="inductive">ulist</span></a> (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>)).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">b</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_pbleaf"><span class="id" title="lemma">all_pbleaves_pbleaf</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_pbleaf"><span class="id" title="lemma">all_pbleaves_pbleaf</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app"><span class="id" title="lemma">ulist_app</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H2</span> [<span class="id" title="var">H3</span>| <span class="id" title="var">H3</span>]; <span class="id" title="tactic">auto</span>; (<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_inpb"><span class="id" title="lemma">all_pbleaves_inpb</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app"><span class="id" title="lemma">ulist_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv_l"><span class="id" title="lemma">ulist_app_inv_l</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="var">Contradict</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv_r"><span class="id" title="lemma">ulist_app_inv_r</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">case</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_pbadd"><span class="id" title="lemma">all_pbleaves_pbadd</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H3</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span>; <span class="id" title="var">Contradict</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H4</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_inpb"><span class="id" title="lemma">all_pbleaves_inpb</span></a>;<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">datatypes</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv"><span class="id" title="lemma">ulist_app_inv</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_pbleaf"><span class="id" title="lemma">all_pbleaves_pbleaf</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_pbleaf"><span class="id" title="lemma">all_pbleaves_pbleaf</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app"><span class="id" title="lemma">ulist_app</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> [<span class="id" title="var">H3</span>| <span class="id" title="var">H3</span>] <span class="id" title="var">H2</span>; <span class="id" title="tactic">auto</span>; (<span class="id" title="tactic">case</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_inpb"><span class="id" title="lemma">all_pbleaves_inpb</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app"><span class="id" title="lemma">ulist_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="var">Contradict</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv_l"><span class="id" title="lemma">ulist_app_inv_l</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv_r"><span class="id" title="lemma">ulist_app_inv_r</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">case</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_pbadd"><span class="id" title="lemma">all_pbleaves_pbadd</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H2</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span>; <span class="id" title="var">Contradict</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H4</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_inpb"><span class="id" title="lemma">all_pbleaves_inpb</span></a>;<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">datatypes</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.UList.html#ulist_app_inv"><span class="id" title="lemma">ulist_app_inv</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;Adding&nbsp;a&nbsp;new&nbsp;leaf&nbsp;to&nbsp;a&nbsp;tree&nbsp;with&nbsp;distinct&nbsp;leaves<br/>
&nbsp;&nbsp;creates&nbsp;a&nbsp;tree&nbsp;with&nbsp;distinct&nbsp;leaves&nbsp;<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="distinct_pbleaves_pbadd_prop2"><span class="id" title="lemma">distinct_pbleaves_pbadd_prop2</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">l</span>,<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">l1</span> <span class="id" title="var">l</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_unique"><span class="id" title="lemma">all_pbleaves_unique</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#ulist_pbadd_prop2"><span class="id" title="lemma">ulist_pbadd_prop2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_ulist"><span class="id" title="lemma">all_pbleaves_ulist</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;always&nbsp;on&nbsp;the&nbsp;left&nbsp;creates&nbsp;a&nbsp;left&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="fold_pbadd_prop_left"><span class="id" title="lemma">fold_pbadd_prop_left</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> (<span class="id" title="var">c</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) =&gt; <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> (<span class="id" title="var">c</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) =&gt; <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)) (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l2</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;always&nbsp;on&nbsp;the&nbsp;right&nbsp;&nbsp;creates&nbsp;a&nbsp;right&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="fold_pbadd_prop_right"><span class="id" title="lemma">fold_pbadd_prop_right</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> (<span class="id" title="var">c</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) =&gt; <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> (<span class="id" title="var">c</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) =&gt; <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)) (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l2</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Adding&nbsp;always&nbsp;on&nbsp;the&nbsp;right&nbsp;on&nbsp;a&nbsp;left&nbsp;tree&nbsp;&nbsp;creates&nbsp;a&nbsp;node&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="fold_pbadd_prop_node"><span class="id" title="lemma">fold_pbadd_prop_node</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> (<span class="id" title="var">c</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) =&gt; <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> (<span class="id" title="var">c</span> : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a>) =&gt; <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) <span class="id" title="var">l0</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l0</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l2</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Turn&nbsp;a&nbsp;code&nbsp;into&nbsp;a&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="pbbuild"><span class="id" title="definition">pbbuild</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="Huffman.Code.html#code"><span class="id" title="definition">code</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Huffman.PBTree.html#pbtree"><span class="id" title="inductive">pbtree</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> =&gt; <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>)) (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#PBTree.empty"><span class="id" title="variable">empty</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;All&nbsp;the&nbsp;path&nbsp;that&nbsp;are&nbsp;not&nbsp;prefix&nbsp;in&nbsp;the&nbsp;code&nbsp;are&nbsp;free&nbsp;in<br/>
&nbsp;&nbsp;the&nbsp;corresponding&nbsp;tree<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbfree_pbbuild_prop1"><span class="id" title="lemma">pbfree_pbbuild_prop1</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.Code.html#unique_prefix"><span class="id" title="definition">unique_prefix</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <a class="idref" href="Huffman.PBTree.html#l1"><span class="id" title="variable">l1</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#l2"><span class="id" title="variable">l2</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l1</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) <span class="id" title="var">l</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">l0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop1"><span class="id" title="lemma">pbfree_pbadd_prop1</span></a>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>; <span class="id" title="var">absurd</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a1</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;<span class="id" title="tactic">case</span><br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.UniqueKey.html#unique_key_in"><span class="id" title="lemma">unique_key_in</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>) (<span class="id" title="var">b1</span> := <span class="id" title="var">l0</span>) (<span class="id" title="var">b2</span> := <span class="id" title="var">l1</span>) (1 := <a class="idref" href="Huffman.Code.html#unique_prefix2"><span class="id" title="lemma">unique_prefix2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix1"><span class="id" title="lemma">unique_prefix1</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">lb1</span> := <span class="id" title="var">l0</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l1</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *;<br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>; <span class="id" title="var">absurd</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a1</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;<span class="id" title="tactic">case</span><br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.UniqueKey.html#unique_key_in"><span class="id" title="lemma">unique_key_in</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>) (<span class="id" title="var">b1</span> := <span class="id" title="var">l0</span>) (<span class="id" title="var">b2</span> := <span class="id" title="var">l1</span>) (1 := <a class="idref" href="Huffman.Code.html#unique_prefix2"><span class="id" title="lemma">unique_prefix2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#sym_equal"><span class="id" title="abbreviation">sym_equal</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix1"><span class="id" title="lemma">unique_prefix1</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">lb1</span> := <span class="id" title="var">l1</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l0</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l0</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span> <span class="id" title="var">l2</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop2"><span class="id" title="lemma">pbfree_pbadd_prop2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix_inv"><span class="id" title="lemma">unique_prefix_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a1</span>) (<span class="id" title="var">l</span> := <span class="id" title="var">l1</span>).<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix_permutation"><span class="id" title="lemma">unique_prefix_permutation</span></a> <span class="id" title="keyword">with</span> (2 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>; <span class="id" title="var">absurd</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a1</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;<span class="id" title="tactic">case</span><br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.UniqueKey.html#unique_key_in"><span class="id" title="lemma">unique_key_in</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>) (<span class="id" title="var">b1</span> := <span class="id" title="var">l2</span>) (<span class="id" title="var">b2</span> := <span class="id" title="var">l1</span>) (1 := <a class="idref" href="Huffman.Code.html#unique_prefix2"><span class="id" title="lemma">unique_prefix2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#sym_equal"><span class="id" title="abbreviation">sym_equal</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix1"><span class="id" title="lemma">unique_prefix1</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">lb1</span> := <span class="id" title="var">l1</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l2</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>; <span class="id" title="var">absurd</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a1</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;<span class="id" title="tactic">case</span><br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.UniqueKey.html#unique_key_in"><span class="id" title="lemma">unique_key_in</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a</span>) (<span class="id" title="var">b1</span> := <span class="id" title="var">l2</span>) (<span class="id" title="var">b2</span> := <span class="id" title="var">l1</span>) (1 := <a class="idref" href="Huffman.Code.html#unique_prefix2"><span class="id" title="lemma">unique_prefix2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix1"><span class="id" title="lemma">unique_prefix1</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">lb1</span> := <span class="id" title="var">l2</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l1</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *;<br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;keys&nbsp;of&nbsp;the&nbsp;code&nbsp;are&nbsp;a&nbsp;permutation&nbsp;of&nbsp;the&nbsp;leaves&nbsp;of&nbsp;the&nbsp;tree&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_compute_pb"><span class="id" title="lemma">all_pbleaves_compute_pb</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Huffman.Permutation.html#permutation"><span class="id" title="inductive">permutation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="var">B</span>:=<span class="id" title="var">_</span>)) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>)) (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">cut</span><br/>
&nbsp;(<span class="id" title="keyword">forall</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="var">B</span>:=<span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> : <a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">b1</span>) := <a class="idref" href="Huffman.PBTree.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a1"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#b1"><span class="id" title="variable">b1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="var">B</span>:=<span class="id" title="var">_</span>)) <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a>); [ <span class="id" title="tactic">intros</span> <span class="id" title="var">HH</span> | <span class="id" title="tactic">idtac</span> ].<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.Aux.html#map_app"><span class="id" title="lemma">map_app</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Permutation.html#permutation_app_comp"><span class="id" title="lemma">permutation_app_comp</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HH</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f_equal2"><span class="id" title="lemma">f_equal2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;Taking&nbsp;a&nbsp;code,&nbsp;turning&nbsp;it&nbsp;in&nbsp;a&nbsp;tree,&nbsp;then&nbsp;computing&nbsp;a&nbsp;code<br/>
&nbsp;&nbsp;gives&nbsp;a&nbsp;permutation&nbsp;of&nbsp;the&nbsp;initial&nbsp;code<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbbuild_compute_perm"><span class="id" title="lemma">pbbuild_compute_perm</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.Code.html#unique_prefix"><span class="id" title="definition">unique_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.Permutation.html#permutation"><span class="id" title="inductive">permutation</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>)) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">case</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#pbadd_prop1"><span class="id" title="lemma">pbadd_prop1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a2</span>, <span class="id" title="var">l2</span>) <span class="id" title="var">l3</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>;<br/>
&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> <span class="id" title="var">a2</span> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="var">l3</span>) <span class="id" title="var">l2</span>)).<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbadd_prop2"><span class="id" title="lemma">pbadd_prop2</span></a>.<br/>
<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>); [ <span class="id" title="tactic">intros</span> <span class="id" title="var">Ip1</span> | <span class="id" title="tactic">idtac</span> ].<br/>
<span class="id" title="tactic">cut</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.Code.html#is_prefix"><span class="id" title="inductive">is_prefix</span></a> <span class="id" title="var">l2</span> <span class="id" title="var">l1</span>); [ <span class="id" title="tactic">intros</span> <span class="id" title="var">Ip2</span> | <span class="id" title="tactic">idtac</span> ].<br/>
<span class="id" title="tactic">generalize</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop1"><span class="id" title="lemma">pbfree_pbadd_prop1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l0</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbadd_prop2"><span class="id" title="lemma">pbfree_pbadd_prop2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">change</span> (<a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> <span class="id" title="var">l1</span> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l0</span>))) <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbfree_pbbuild_prop1"><span class="id" title="lemma">pbfree_pbbuild_prop1</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix_inv"><span class="id" title="lemma">unique_prefix_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a2</span>) (<span class="id" title="var">l</span> := <span class="id" title="var">l2</span>).<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix_permutation"><span class="id" title="lemma">unique_prefix_permutation</span></a> <span class="id" title="keyword">with</span> (2 := <span class="id" title="var">H2</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH2</span>; <span class="id" title="var">absurd</span> (<span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a2</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;<span class="id" title="tactic">case</span><br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.UniqueKey.html#unique_key_in"><span class="id" title="lemma">unique_key_in</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a1</span>) (<span class="id" title="var">b1</span> := <span class="id" title="var">l1</span>) (<span class="id" title="var">b2</span> := <span class="id" title="var">l2</span>) (1 := <a class="idref" href="Huffman.Code.html#unique_prefix2"><span class="id" title="lemma">unique_prefix2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#sym_equal"><span class="id" title="abbreviation">sym_equal</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix1"><span class="id" title="lemma">unique_prefix1</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">lb1</span> := <span class="id" title="var">l2</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l1</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">HH2</span>; <span class="id" title="var">absurd</span> (<span class="id" title="var">a1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a2</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;<span class="id" title="tactic">case</span><br/>
&nbsp;&nbsp;<a class="idref" href="Huffman.UniqueKey.html#unique_key_in"><span class="id" title="lemma">unique_key_in</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">a</span> := <span class="id" title="var">a1</span>) (<span class="id" title="var">b1</span> := <span class="id" title="var">l1</span>) (<span class="id" title="var">b2</span> := <span class="id" title="var">l2</span>) (1 := <a class="idref" href="Huffman.Code.html#unique_prefix2"><span class="id" title="lemma">unique_prefix2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix1"><span class="id" title="lemma">unique_prefix1</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>) (<span class="id" title="var">lb1</span> := <span class="id" title="var">l1</span>) (<span class="id" title="var">lb2</span> := <span class="id" title="var">l2</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *;<br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Permutation.html#permutation_skip"><span class="id" title="constructor">permutation_skip</span></a>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">Hj</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix_inv"><span class="id" title="lemma">unique_prefix_inv</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<br/>
&nbsp;&nbsp;Building&nbsp;tree&nbsp;from&nbsp;a&nbsp;code,&nbsp;the&nbsp;list&nbsp;of&nbsp;leaves&nbsp;is&nbsp;a&nbsp;permutation&nbsp;of<br/>
&nbsp;&nbsp;the&nbsp;keys&nbsp;of&nbsp;the&nbsp;code<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="all_pbleaves_pbbuild"><span class="id" title="lemma">all_pbleaves_pbbuild</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.Code.html#unique_prefix"><span class="id" title="definition">unique_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.Permutation.html#permutation"><span class="id" title="inductive">permutation</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="var">B</span>:=<span class="id" title="var">_</span>)) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>) (<a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>)).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Permutation.html#permutation_trans"><span class="id" title="constructor">permutation_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<span class="id" title="var">B</span>:=<span class="id" title="var">_</span>)) (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="var">c</span>))).<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Permutation.html#permutation_map"><span class="id" title="lemma">permutation_map</span></a>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Permutation.html#permutation_sym"><span class="id" title="lemma">permutation_sym</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#pbbuild_compute_perm"><span class="id" title="lemma">pbbuild_compute_perm</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves_compute_pb"><span class="id" title="lemma">all_pbleaves_compute_pb</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Leaves&nbsp;in&nbsp;a&nbsp;built&nbsp;tree&nbsp;are&nbsp;elements&nbsp;of&nbsp;the&nbsp;codes&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="inpb_pbbuild_inv"><span class="id" title="lemma">inpb_pbbuild_inv</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">l</span> : <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Huffman.PBTree.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Huffman.PBTree.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">a0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">left</span>;<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f_equal2"><span class="id" title="lemma">f_equal2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)); <br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#sym_equal"><span class="id" title="abbreviation">sym_equal</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#inpbleaf_eq"><span class="id" title="lemma">inpbleaf_eq</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l0</span> <span class="id" title="var">H</span> <span class="id" title="var">a0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">case</span> <a class="idref" href="Huffman.PBTree.html#inpbleaf_pbadd_inv"><span class="id" title="lemma">inpbleaf_pbadd_inv</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">exists</span> <span class="id" title="var">l1</span>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f_equal2"><span class="id" title="lemma">f_equal2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Huffman.PBTree.html#PBTree.A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span>:=<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">case</span> (<span class="id" title="var">H</span> <span class="id" title="var">a0</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Built&nbsp;tree&nbsp;from&nbsp;prefix&nbsp;code&nbsp;has&nbsp;distinct&nbsp;leaves&nbsp;*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbbuild_distinct_pbleaves"><span class="id" title="lemma">pbbuild_distinct_pbleaves</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>, <a class="idref" href="Huffman.Code.html#unique_prefix"><span class="id" title="definition">unique_prefix</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a1</span>, <span class="id" title="var">l1</span>) <span class="id" title="var">l</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pbadd_prop1"><span class="id" title="lemma">distinct_pbleaves_pbadd_prop1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> (<span class="id" title="var">a2</span>, <span class="id" title="var">l2</span>) <span class="id" title="var">l3</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pbadd_prop2"><span class="id" title="lemma">distinct_pbleaves_pbadd_prop2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> (<a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> <span class="id" title="var">a1</span>) (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">a2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <span class="id" title="var">l3</span>))) <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">case</span> <a class="idref" href="Huffman.PBTree.html#inpb_pbbuild_inv"><span class="id" title="lemma">inpb_pbbuild_inv</span></a> <span class="id" title="keyword">with</span> (2 := <span class="id" title="var">H2</span>).<br/>
<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">case</span> <a class="idref" href="Huffman.UniqueKey.html#unique_key_in"><span class="id" title="lemma">unique_key_in</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b2</span> := <span class="id" title="var">x</span>) (1 := <a class="idref" href="Huffman.Code.html#unique_prefix2"><span class="id" title="lemma">unique_prefix2</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>);<br/>
&nbsp;<span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.Code.html#unique_prefix_inv"><span class="id" title="lemma">unique_prefix_inv</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;The&nbsp;composition&nbsp;of&nbsp;building&nbsp;and&nbsp;computing&nbsp;on&nbsp;trees<br/>
&nbsp;&nbsp;with&nbsp;distinct&nbsp;leaves&nbsp;is&nbsp;the&nbsp;identity<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbbuild_compute_peq"><span class="id" title="lemma">pbbuild_compute_peq</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span>, <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">t</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#fold_pbadd_prop_left"><span class="id" title="lemma">fold_pbadd_prop_left</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">change</span> (<a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> <span class="id" title="var">p</span>) <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pl"><span class="id" title="lemma">distinct_pbleaves_pl</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H0</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#fold_pbadd_prop_right"><span class="id" title="lemma">fold_pbadd_prop_right</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">change</span> (<a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> <span class="id" title="var">p</span>) <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a>); <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_pr"><span class="id" title="lemma">distinct_pbleaves_pr</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H0</span>).<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">H</span> <span class="id" title="var">p0</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.Aux.html#fold_right_app"><span class="id" title="lemma">fold_right_app</span></a>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#fold_pbadd_prop_right"><span class="id" title="lemma">fold_pbadd_prop_right</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.PBTree.html#fold_pbadd_prop_node"><span class="id" title="lemma">fold_pbadd_prop_node</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">change</span><br/>
&nbsp;&nbsp;(<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p</span>)) (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> <span class="id" title="var">p0</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p0</span>) <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#f_equal2"><span class="id" title="lemma">f_equal2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span> := <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_l"><span class="id" title="lemma">distinct_pbleaves_l</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves_r"><span class="id" title="lemma">distinct_pbleaves_r</span></a> <span class="id" title="keyword">with</span> (1 := <span class="id" title="var">H1</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<br/>
&nbsp;&nbsp;Adding&nbsp;a&nbsp;true&nbsp;in&nbsp;all&nbsp;the&nbsp;element&nbsp;in&nbsp;the&nbsp;code&nbsp;adds&nbsp;&nbsp;a&nbsp;right&nbsp;<br/>
&nbsp;&nbsp;on&nbsp;top&nbsp;the&nbsp;built&nbsp;tree<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbbuild_true_pbright"><span class="id" title="lemma">pbbuild_true_pbright</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#c"><span class="id" title="variable">c</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a0</span> <span class="id" title="var">l0</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l0</span> <span class="id" title="var">a0</span> <span class="id" title="var">l1</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;<br/>
&nbsp;&nbsp;Building&nbsp;can&nbsp;be&nbsp;decomposed&nbsp;in&nbsp;the&nbsp;codes&nbsp;starting&nbsp;with&nbsp;true<br/>
&nbsp;&nbsp;and&nbsp;the&nbsp;one&nbsp;starting&nbsp;by&nbsp;false<br/>
*)</span><br/>
<span class="id" title="keyword">Theorem</span> <a name="pbbuild_pbnode"><span class="id" title="lemma">pbbuild_pbnode</span></a> :<br/>
&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span>,<br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#c1"><span class="id" title="variable">c1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#c2"><span class="id" title="variable">c2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Huffman.PBTree.html#c1"><span class="id" title="variable">c1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Huffman.PBTree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Huffman.PBTree.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Huffman.PBTree.html#c2"><span class="id" title="variable">c2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;<a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#c1"><span class="id" title="variable">c1</span></a>) (<a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <a class="idref" href="Huffman.PBTree.html#c2"><span class="id" title="variable">c2</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">using</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">c1</span> <span class="id" title="var">c2</span> <span class="id" title="var">Hc1</span> <span class="id" title="var">Hc2</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">rewrite</span> <a class="idref" href="Huffman.Aux.html#fold_right_app"><span class="id" title="lemma">fold_right_app</span></a>.<br/>
<span class="id" title="tactic">fold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *.<br/>
<span class="id" title="tactic">generalize</span> <a class="idref" href="Huffman.PBTree.html#pbbuild_true_pbright"><span class="id" title="lemma">pbbuild_true_pbright</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">intros</span> <span class="id" title="var">tmp</span>;<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">tmp</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">tmp</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">generalize</span> <span class="id" title="var">Hc1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">c1</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">case</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> |- *; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">p</span> <span class="id" title="var">l0</span> <span class="id" title="var">a0</span> <span class="id" title="var">l1</span> <span class="id" title="var">H</span> <span class="id" title="var">Hc0</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Huffman.PBTree.html#PBTree"><span class="id" title="section">PBTree</span></a>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#pbleaf"><span class="id" title="constructor">pbleaf</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#pbleft"><span class="id" title="constructor">pbleft</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#pbright"><span class="id" title="constructor">pbright</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#pbnode"><span class="id" title="constructor">pbnode</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#pbadd"><span class="id" title="definition">pbadd</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#pbbuild"><span class="id" title="definition">pbbuild</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#all_pbleaves"><span class="id" title="definition">all_pbleaves</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#distinct_pbleaves"><span class="id" title="definition">distinct_pbleaves</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#compute_pbcode"><span class="id" title="definition">compute_pbcode</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Huffman.PBTree.html#inpb_dec"><span class="id" title="definition">inpb_dec</span></a> [<span class="id" title="var">A</span>].<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Huffman.PBTree.html#inpb"><span class="id" title="inductive">inpb</span></a> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">distinct_pbleaves_pbleaf</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">distinct_pbleaves_pbleft</span> <span class="id" title="var">distinct_pbleaves_pbright</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">compute_pbcode_not_null</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">compute_pbcode_not_null</span> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="Huffman.PBTree.html#pbfree"><span class="id" title="inductive">pbfree</span></a> : <span class="id" title="var">core</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
